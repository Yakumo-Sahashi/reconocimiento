const elVideo=document.getElementById("video");navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;const cargarCamera=()=>{navigator.getMedia({video:!0,audio:!1},e=>elVideo.srcObject=e,console.error)};Promise.all([faceapi.nets.ssdMobilenetv1.loadFromUri("/models"),faceapi.nets.ageGenderNet.loadFromUri("/models"),faceapi.nets.faceExpressionNet.loadFromUri("/models"),faceapi.nets.faceLandmark68Net.loadFromUri("/models"),faceapi.nets.faceLandmark68TinyNet.loadFromUri("/models"),faceapi.nets.faceRecognitionNet.loadFromUri("/models"),faceapi.nets.ssdMobilenetv1.loadFromUri("/models"),faceapi.nets.tinyFaceDetector.loadFromUri("/models")]).then(cargarCamera),elVideo.addEventListener("play",async()=>{const e=faceapi.createCanvasFromMedia(elVideo);document.body.append(e);const a={width:elVideo.width,height:elVideo.height};faceapi.matchDimensions(e,a),setInterval(async()=>{const i=await faceapi.detectAllFaces(elVideo).withFaceLandmarks().withFaceExpressions().withAgeAndGender().withFaceDescriptors(),o=faceapi.resizeResults(i,a);e.getContext("2d").clearRect(0,0,e.width,e.height),faceapi.draw.drawDetections(e,o),faceapi.draw.drawFaceLandmarks(e,o),faceapi.draw.drawFaceExpressions(e,o),o.forEach(a=>{const i=a.detection.box;new faceapi.draw.DrawBox(i,{label:Math.round(a.age)+" a√±os "+a.gender}).draw(e)})})});